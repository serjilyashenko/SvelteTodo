<section class="todoapp">
	<Header/>
		<!-- This section should be hidden by default and shown when there are todos -->
		<section class="main">
			<input id="toggle-all" class="toggle-all" type="checkbox">
			<label for="toggle-all">Mark all as complete</label>
			<ul class="todo-list">
				{#each todos as todo}
				<TodoItem {todo} on:remove="remove(todo.id)" on:toggle="toggle(todo.id)" on:change="change(todo.id, event.value)" />				{/each}
			</ul>
		</section>
		<!-- This footer should hidden by default and shown when there are todos -->
		<footer class="footer">
			<!-- This should be `0 items left` by default -->
			<span class="todo-count"><strong>0</strong> item left</span>
			<!-- Remove this if you don't implement routing -->
			<ul class="filters">
				<li>
					<a class="selected" href="#/">All</a>
				</li>
				<li>
					<a href="#/active">Active</a>
				</li>
				<li>
					<a href="#/completed">Completed</a>
				</li>
			</ul>
			<!-- Hidden if no completed items are left â†“ -->
			<button class="clear-completed">Clear completed</button>
		</footer>
</section>
<footer class="info">
	<Info/>
</footer>

<script>
  export default {
    data() {
      return {
        todos: [
          { id: 0, title: "Taste JavaScript", completed: true },
          { id: 1, title: "Buy a unicorn", completed: false }
        ]
      };
    },
    methods: {
      toggle(id) {
        const todos = this.get().todos.map(
          t => (t.id === id ? { ...t, completed: !t.completed } : t)
        );
        this.set({ todos });
      },
      change(id, value) {
        const todos = this.get().todos.map(
          t => (t.id === id ? { ...t, title: value } : t)
        );
        this.set({ todos });
      },
      remove(id) {
        const todos = this.get().todos.filter(t => t.id !== id);
        this.set({ todos });
      }
    },
    components: {
      Header: "./Header.html",
      TodoItem: "./TodoItem.html",
      Info: "./Info.html"
    }
  };
</script>
